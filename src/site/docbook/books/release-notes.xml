<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2005-2013 The Kuali Foundation

    Licensed under the Educational Community License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.opensource.org/licenses/ecl2.php

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0">
    <info>
        <title>Kuali Rice ${project.version} Release Notes</title>
        <edition>${project.version}</edition>
        <pubdate>Released: ${docbook.build.timestamp}</pubdate>
    </info>
    <section xml:id="overview" xreflabel="Overview">
        <title>Overview</title>
        <para>Welcome to Rice ${project.version}! </para>
        <section>
            <title>Release Highlights</title>
            <para>This version of Rice includes many improvements to the Kuali Rapid Application
                Development (KRAD) Framework. Below is a summary of the larger new features and you
                can learn more about them in the <link xlink:show="new"
                  xlink:href="http://site.kuali.org/rice/${project.version}/reference/html/KRAD_Guide.html">KRAD Guide</link> which is also now publicly
                available with this release. Also review the Jira list at the end of this document to
                see the smaller items.</para>
            <para>
                <itemizedlist>
                    <title>Highlights of this release include:</title>
                    <listitem>
                        <simpara>Numerous bug fixes in support of Kuali applications</simpara>
                    </listitem>
                    <listitem>
                        <simpara>Documentation updates</simpara>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
        <section>
            <title>Download</title>
            <para>Kuali Rice ${project.version} can be downloaded from the Rice website at <link xlink:show="new" xlink:href="http://kuali.org/rice/download">http://kuali.org/rice/download</link>.</para>
            <para>There are three different distributions of Rice available: source, binary and
              server. Please read the <link xlink:href="http://site.kuali.org/rice/${project.version}/reference/html/IG.html">Installation Guide</link> for
                more details on each of these distributions.</para>
            <para>Applications can also consume Rice from the maven site at <link
                    xlink:href="http://search.maven.org/#search|ga|1|org.kuali.rice"
                    >http://search.maven.org/#search|ga|1|org.kuali.rice</link>.</para>
        </section>
        <section>
            <title>Documentation</title>
            <para>API Documentation can be found at <link xlink:show="new" xlink:href="http://site.kuali.org/rice/${project.version}/apidocs/index.html">http://site.kuali.org/rice/${project.version}/apidocs/index.html</link></para>
            <para>Formal documentation can be found at <link xlink:show="new"
                    xlink:href="http://site.kuali.org/rice/${project.version}/reference/html/portal.html"
                    >http://site.kuali.org/rice/${project.version}/reference/html/portal.html</link>.
                This documentation is still in the process of review and update  which will continue
                through subsequent releases, so please follow the notes in each document to report
                any outdated information.</para>
        </section>
        <section>
            <title>Contact</title>
            <para>If you encounter any difficulty, please don't hesitate to contact the Rice team on
                our public collaboration mailing list at <email>rice.collab@kuali.org</email>.
                Please indicate that you are using the ${project.version} version of Rice.</para>
        </section>
    </section>
    <section xml:id="upgrade-guide" xreflabel="Upgrade Guide">
        <title>Upgrade Guide: Rice 2.2.1 to Rice ${project.version}</title>
        <caution><para>We recommend backing up your database before performing any upgrade!</para></caution>
        <section>
            <title>Upgrading the database</title>
            <para>Please see the <link linkend="impacting-changes">Impacting Changes</link> section of this document for details on updates to the database.</para>
        </section>
    </section>
<section xml:id="items_addressed_in_rice"><title>Items Addressed in Rice ${project.version}</title> 
    
    <section>
        <title>Bug Fix</title>
        <para>
            <itemizedlist>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-8538'>KULRICE-8538</link>] - Responsibility Required routing flag not working unless responsibility defined for exact document</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9007'>KULRICE-9007</link>] - RoleMemberBo.groovy prevents replacement of KIM services</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9044'>KULRICE-9044</link>] - KRAD "stacked" collection elements are not rendering add/delete buttons</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9047'>KULRICE-9047</link>] - Term maintenance freemarker exception</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9062'>KULRICE-9062</link>] - Action list id links result in 404 or NPE</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9085'>KULRICE-9085</link>] - TermSpecification throws an exception during save/routing</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9094'>KULRICE-9094</link>] - TermBoServiceImpl fails to populate TermSpecificationDefinition.contextIds on retrieval</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9095'>KULRICE-9095</link>] - KRAD Error messages in section not displayed correctly</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9096'>KULRICE-9096</link>] - Message after initial save prevents additional saves/routing</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9097'>KULRICE-9097</link>] - Don't display the common section on KRMS Term and TermSpecification maintenance documents</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9162'>KULRICE-9162</link>] - Role document broken when adding responsibilities</para>
                </listitem>
            </itemizedlist>
        </para>
    </section>
    
    
    <section>
        <title>Task</title>
        <para>
            <itemizedlist>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9147'>KULRICE-9147</link>] - Toggling the show/hide active button on collections causes an exception</para>
                </listitem>
                <listitem>
                    <para>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9152'>KULRICE-9152</link>] - PK for krad_msg_t is too long for MySQL 5.1</para>
                </listitem>
            </itemizedlist>
        </para>
    </section>
    
    
</section>
<section xml:id="impacting-changes" xreflabel="Impacting Changes">
        <title>Impacting Changes</title>
        <section>
            <title>[<link xlink:href='https://jira.kuali.org/browse/KULRICE-9152'>KULRICE-9152</link>] - PK for krad_msg_t is too long for MySQL 5.1</title>
            <para>The script reduces the size of the KRAD_MSG_T.LOC column from a VARCHAR(255) to a VARCHAR(80) (Note: for Oracle, the column is of type VARCHAR2) in order to bring down the total size of the compound primary key to a length supported by MySQL 5.1.</para>
            <para>Depending on if you are applying this to a client or server schema, and based on your database platform, the scripts to run will differ:</para>
            <itemizedlist>
                <listitem>
                    <para>Server dataset:</para>
                    <itemizedlist>
                        <listitem>
                            <para>MySQL:</para><para><code>scripts/upgrades/2.2.1 to 2.2.2/db-updates/mysql-2013-03-18.sql</code></para>
                        </listitem>
                        <listitem>
                            <para>Oracle:</para><para><code>scripts/upgrades/2.2.1 to 2.2.2/db-updates/2013-03-18.sql</code></para>
                            <para>The above script will leave an extra table behind named OLD_KRAD_MSG_T. 
                                Once you are satisfied that the data in the new KRAD_MSG_T table is intact, you can drop OLD_KRAD_MSG_T by running 
                            </para>
                            <para><code>scripts/upgrades/2.2.1 to 2.2.2/db-updates/cleanup-2013-03-18.sql</code></para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Client dataset:</para>
                    <itemizedlist>
                        <listitem>
                            <para>MySQL:</para><para><code>scripts/upgrades/2.2.1 to 2.2.2/db-updates-client/mysql-2013-03-18.sql</code></para>
                        </listitem>
                        <listitem>
                            <para>Oracle:</para><para><code>scripts/upgrades/2.2.1 to 2.2.2/db-updates-client/2013-03-18.sql</code></para>
                            <para>The above script will leave an extra table behind named OLD_KRAD_MSG_T. 
                                Once you are satisfied that the data in the new KRAD_MSG_T table is intact, you can drop OLD_KRAD_MSG_T by running 
                            </para>
                            <para><code>scripts/upgrades/2.2.1 to 2.2.2/db-updates-client/cleanup-2013-03-18.sql</code></para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </section>
</section>
</article>
